(()=>{var n,i;jQuery,i=function(i,t){var e=i.data("id"),o=t(".envision-blocks-marquee-"+e),a=o.find(".envision-blocks-marquee__animation"),s="yes"===o.data("v-direction");function r(n,i){var e=n.find("img:visible");return 0===e.length?o():new Promise((function(n){Promise.race(e.map((function(){return n=t(this),new Promise((function(i){n[0].complete&&0!==n[0].naturalWidth?i():n.on("load",(function(){i()}))}));var n}))).then((function(){n(o())}))}));function o(){var e=0,o=parseFloat(n.css("--items-gap"));return n.find(".envision-blocks-marquee__item").each((function(n,a){e+=i?t(this).height()+o:t(this).width()+o})),e}}function c(n){var i=t(window).width()>767?"--pause-on-hover":"--pause-on-hover-mobile";n.css(i)&&"true"==n.css(i).trim()?n.css("--poh","paused"):n.css("--poh","running")}function d(){var n=r(a,s);function i(n){n&&(function(n,i,t){if(t)var e=Math.ceil(n.parent().height()/i)+1;else e=Math.ceil(n.parent().width()/i)+1;n.data("original-content")||n.data("original-content",n.html()),n.empty();for(var o=0;o<e;o++)n.append(n.data("original-content"));t?n.height(i*e):n.width(i*e),n.css("--total",e),n.css("--est-speed",i/100)}(a,n,s),function(n,i,t){t?-1==n.css("--direction")&&n.css("margin-top",-1*i+"px"):-1==n.css("--direction")&&n.css("margin-left",-1*i+"px")}(a,n,s)),c(a)}n instanceof Promise?n.then(i):i(n)}n=t(window).width(),o.find(".envision-blocks-marquee__animation").each((function(){t(this).data("original-content",t(this).html()),c(t(this))})),o.addClass("showing"),envisionBlocks.isInViewport.check(o,(function(){d(),a.css("animation-play-state","running")})),t(window).on("resize",(function(){t(window).width()!=n&&(n=t(window).width(),d())}))},jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/envision-blocks-marquee.default",i)}))})();